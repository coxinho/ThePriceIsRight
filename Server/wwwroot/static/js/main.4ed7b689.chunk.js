(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(69)},44:function(e,t,a){},46:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(36),c=a.n(s),l=(a(44),a(45),a(4)),i=a(5),o=a(7),u=a(6),m=a(8),p=(a(46),a(10)),d=a.n(p),h=a(1),g=a.n(h),E=a(3),f=a.n(E),b=a(18),k=a(24),O=a(2),y=a.n(O),v=a(15),j=a.n(v),C=a(11),M=a.n(C),S=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{type:"text",placeholder:"Insert username",id:"username"})),r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{type:"password",placeholder:"Insert your password",id:"password"})),r.a.createElement(g.a,null,r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.login()}},"Login")),r.a.createElement(g.a,null,r.a.createElement(b.b,{to:"/register"},"Register")))}},{key:"login",value:function(){var e=M()("#username").val(),t=M()("#password").val();if(""!==e&&""!==t){var a={first:"Cristina",last:"Coxinho",email:"cristina.coxinho@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png",type:"admin"};"OK"==="OK"?this.props.login(a):this.props.snackbarMessage("Username and password are wrong!")}else this.props.snackbarMessage("Username and password are empty!")}}]),t}(r.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{type:"text",placeholder:"Insert email",id:"email"})),r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{type:"password",placeholder:"Insert your password",id:"pw"})),r.a.createElement(g.a,null,r.a.createElement(y.a.Control,{type:"password",placeholder:"Retype your password",id:"pw2"})),r.a.createElement(g.a,null,r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.register()}},"Register")),r.a.createElement(g.a,null,r.a.createElement(b.b,{to:"/login"},"Login")))}},{key:"register",value:function(){this.props.history.push("/login"),this.props.snackbarMessage("Registration successful!")}}]),t}(r.a.Component),_=a(22),L=a.n(_),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={reply:null,results:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Search Products"),r.a.createElement(f.a,{lg:"10"},r.a.createElement(y.a.Control,{type:"text",placeholder:"Search for EAN, brand or product",id:"search"})),r.a.createElement(f.a,{lg:"2"},r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.search()}},"Search"))),this.state.results.map(function(t,a){return r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"10"},r.a.createElement("p",null,t.brand,"admin"===e.props.userType&&r.a.createElement("button",{onClick:function(){return e.manageProduct(t)}},"Manage Product")),r.a.createElement("p",null,t.name),r.a.createElement("p",null,t.ean)),r.a.createElement(f.a,{lg:"2"},r.a.createElement(L.a,{src:t.img,alt:"product",rounded:!0,fluid:!0})),r.a.createElement("ul",null,t.supermarkets.sort(function(e,t){return e.price>t.price?1:-1}).map(function(e){return r.a.createElement("li",null,e.name,": ",e.price,"\u20ac")})))}))}},{key:"search",value:function(){if(""!==M()("#search").val()){var e={status:"OK",results:[{brand:"Nestle",name:"Leite Magro",ean:"123-456-789",img:"https://sgfm.elcorteingles.es/SGFM/dctm/MEDIA03/201604/06/05220912300223____5__600x600.jpg",supermarkets:[{name:"PingoDoce",price:3},{name:"Continente",price:3.2},{name:"Lidl",price:2.9},{name:"Intermarche",price:2.5}]},{brand:"Nestle",name:"Leite Meio Gordo",ean:"123-456-789",img:"https://sgfm.elcorteingles.es/SGFM/dctm/MEDIA03/201604/06/05220912300223____5__600x600.jpg",supermarkets:[{name:"PingoDoce",price:3},{name:"Continente",price:3.2},{name:"Lidl",price:2.9},{name:"Intermarche",price:2.5}]},{brand:"Nestle",name:"Leite Gordo",ean:"123-456-789",img:"https://sgfm.elcorteingles.es/SGFM/dctm/MEDIA03/201604/06/05220912300223____5__600x600.jpg",supermarkets:[{name:"PingoDoce",price:3},{name:"Continente",price:3.2},{name:"Lidl",price:2.9},{name:"Intermarche",price:2.5}]},{brand:"Nestle",name:"KitKat",ean:"123-456-789",img:"https://sgfm.elcorteingles.es/SGFM/dctm/MEDIA03/201604/06/05220912300223____5__600x600.jpg",supermarkets:[{name:"PingoDoce",price:3},{name:"Continente",price:3.2},{name:"Lidl",price:2.9},{name:"Intermarche",price:2.5}]},{brand:"Nestle",name:"Chocapic",ean:"123-456-789",img:"https://sgfm.elcorteingles.es/SGFM/dctm/MEDIA03/201604/06/05220912300223____5__600x600.jpg",supermarkets:[{name:"PingoDoce",price:3},{name:"Continente",price:3.2},{name:"Lidl",price:2.9},{name:"Intermarche",price:2.5}]}]};"OK"===e.status?this.setState({results:e.results}):this.props.snackbarMessage("No search results!")}else this.props.snackbarMessage("Empty query!")}},{key:"manageProduct",value:function(e){this.props.setProduct(e),this.props.history.push("/product")}}]),t}(r.a.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Share a product's price"),this.getSupermarketOptions(),r.a.createElement(y.a.Control,{type:"number",placeholder:"Enter EAN",id:"ean"}),r.a.createElement(y.a.Control,{type:"number",placeholder:"Enter price",id:"price"}),r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.updatePrice()}},"Update price")))}},{key:"getSupermarketOptions",value:function(){return r.a.createElement(y.a.Control,{as:"select",id:"supermarket"},r.a.createElement("option",null,"Select a Supermarket"),r.a.createElement("option",{value:"continente"},"Continente"),r.a.createElement("option",{value:"pingo-doce"},"Pingo-Doce"),r.a.createElement("option",{value:"intermarche"},"Intermarche"),r.a.createElement("option",{value:"lidl"},"Lidl"),r.a.createElement("option",{value:"jumbo"},"Jumbo"))}},{key:"updatePrice",value:function(){var e=M()("#supermarket"),t=M()("#ean"),a=M()("#price");if(""!==e.val()&&""!==t.val()&&""!==a.val()){var n="Supermarket not found";"OK"==="OK"?(this.props.snackbarMessage("The product price was updated."),t.val(""),a.val("")):(this.props.snackbarMessage(n),t.val(""),a.val(""))}}}]),t}(r.a.Component),I=function(e){function t(){var e;Object(l.a)(this,t);var a=(e=Object(o.a)(this,Object(u.a)(t).call(this))).getSupermarkets();return e.state={supermarkets:a},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Manage Supermarkets"),this.state.supermarkets.map(function(t,a){return r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"10"},t.name),r.a.createElement(f.a,{lg:"2"},r.a.createElement(j.a,{onClick:function(){return e.deleteSupermarket(t)}},"Delete")))}),r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"8"},r.a.createElement(y.a.Control,{type:"text",placeholder:"New supermarket",id:"new-supermarket"})),r.a.createElement(f.a,{lg:"4"},r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.add()}},"Add"))))}},{key:"deleteSupermarket",value:function(e){var t=this.state.supermarkets.filter(function(t){return t.id!==e.id});this.setState({supermarkets:t}),this.props.snackbarMessage("".concat(e.name," was deleted successfully!"))}},{key:"getSupermarkets",value:function(){return[{name:"Continente",id:1},{name:"Pingo-Doce",id:2},{name:"Intermarche",id:3},{name:"Lidl",id:4},{name:"Jumbo",id:5},{name:"Dia",id:6}]}},{key:"add",value:function(){var e=M()("#new-supermarket").val(),t=10;if("OK"==="OK"){var a=this.state.supermarkets.slice();a.push({name:e,id:t}),this.setState({supermarkets:a}),this.props.snackbarMessage("The new ".concat(e," supermarket was added successfully!"))}}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"10"},r.a.createElement(y.a.Control,{type:"text",placeholder:"Search for user",id:"search"})),r.a.createElement(f.a,{lg:"2"},r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.search()}},"Search"))),this.state.users.map(function(e){return r.a.createElement(g.a,null,e.first," ",e.last,r.a.createElement("br",null),e.email,r.a.createElement(L.a,{src:e.photo,rounded:!0,fluid:!0}))}))}},{key:"search",value:function(){if(""!==M()("#search").val()){var e={status:"OK",users:[{first:"Cristina",last:"Coxinho",email:"cristina.coxinho@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png"},{first:"Jo\xe3o",last:"Morgado",email:"joao.morgado@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png"},{first:"Ant\xf3nio",last:"Lopes",email:"antonio.lopes@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png"},{first:"Maria",last:"Am\xe9lia",email:"maria.amelia@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png"}]};"OK"===e.status?this.setState({users:e.users}):console.log("Server error")}}}]),t}(r.a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"8"},r.a.createElement(y.a.Control,{type:"text",placeholder:this.props.user.first,id:"first"}),r.a.createElement(y.a.Control,{type:"text",placeholder:this.props.user.last,id:"last"}),r.a.createElement(y.a.Control,{type:"email",placeholder:this.props.user.email,id:"email"}),r.a.createElement(y.a.Control,{type:"password",placeholder:"Insert password",id:"pw"}),r.a.createElement(y.a.Control,{type:"password",placeholder:"Retype password",id:"pw2"})),r.a.createElement(f.a,{lg:"4"},r.a.createElement(L.a,{src:this.props.user.photo,rounded:!0,fluid:!0,id:"photo"}))),r.a.createElement(g.a,null,r.a.createElement(j.a,{variant:"primary",type:"submit",onClick:function(){return e.update()}},"Update profile")),r.a.createElement(g.a,null,r.a.createElement(j.a,{variant:"danger",type:"submit",onClick:function(){return e.delete()}},"Delete account")))}},{key:"update",value:function(){var e={first:M()("#first").val(),last:M()("#last").val(),email:M()("#email").val(),photo:M()("#photo").attr("src")};this.props.update(e)}},{key:"delete",value:function(){this.props.delete()}}]),t}(r.a.Component),N=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{lg:"10"},r.a.createElement("p",null,this.props.product.brand),r.a.createElement("p",null,this.props.product.name),r.a.createElement("p",null,this.props.product.ean)),r.a.createElement(f.a,{lg:"2"},r.a.createElement(L.a,{src:this.props.product.img,alt:"product",rounded:!0,fluid:!0})),r.a.createElement("ul",null,this.props.product.supermarkets.sort(function(e,t){return e.price>t.price?1:-1}).map(function(e){return r.a.createElement("li",null,e.name,": ",e.price,"\u20ac")}))))}}]),t}(r.a.Component),R=(a(68),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=""===this.props.message?"":"show";return r.a.createElement("p",{className:"snackbar ".concat(e)},this.props.message)}}]),t}(r.a.Component)),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={user:{first:"Cristina",last:"Coxinho",email:"cristina.coxinho@gmail.com",photo:"https://cdn0.iconfinder.com/data/icons/elasto-online-store/26/00-ELASTOFONT-STORE-READY_user-circle-512.png",type:"admin"},isLoggedIn:!0,product:"",snackbarMessage:"",timeout:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isLoggedIn;return r.a.createElement(d.a,null,r.a.createElement(b.a,null,r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement(f.a,{lg:"12"},r.a.createElement("header",null,r.a.createElement(b.b,{to:"/"},"The Price Is Right"),t&&r.a.createElement(b.b,{to:"/share"},"Share"),t&&r.a.createElement(b.b,{to:"/manage-supermarkets"},"Supermarkets"),t&&r.a.createElement(b.b,{to:"/manage-users"},"Users"),t&&r.a.createElement(b.b,{to:"/account"},"Account"),t&&r.a.createElement("button",{href:"#",onClick:function(){return e.logoutUser()}},"Logout"),!t&&r.a.createElement(b.b,{to:"/login"},"Login / Register")))),r.a.createElement(g.a,null,r.a.createElement(k.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(T,Object.assign({},t,{userType:e.state.user.type,setProduct:function(t){return e.setProduct(t)},snackbarMessage:function(t){return e.snackbarMessage(t)}}))}}),r.a.createElement(k.b,{path:"/login",render:function(a){return t?r.a.createElement(k.a,{to:"/"}):r.a.createElement(S,Object.assign({},a,{login:function(t){return e.loginUser(t)},snackbarMessage:function(t){return e.snackbarMessage(t)}}))}}),r.a.createElement(k.b,{path:"/register",render:function(t){return r.a.createElement(w,Object.assign({},t,{snackbarMessage:function(t){return e.snackbarMessage(t)}}))}}),r.a.createElement(k.b,{path:"/share",render:function(a){return t?r.a.createElement(A,{snackbarMessage:function(t){return e.snackbarMessage(t)}}):r.a.createElement(S,Object.assign({},a,{login:function(t){return e.loginUser(t)}}))}}),r.a.createElement(k.b,{exact:!0,path:"/manage-supermarkets",render:function(a){return t?r.a.createElement(I,{snackbarMessage:function(t){return e.snackbarMessage(t)}}):r.a.createElement(S,Object.assign({},a,{login:function(t){return e.loginUser(t)}}))}}),r.a.createElement(k.b,{exact:!0,path:"/manage-users",render:function(a){return t?r.a.createElement(x,null):r.a.createElement(S,Object.assign({},a,{login:function(t){return e.loginUser(t)}}))}}),r.a.createElement(k.b,{path:"/account",render:function(a){return t?r.a.createElement(D,Object.assign({},a,{user:e.state.user,update:function(t){return e.updateUser(t)},delete:function(){return e.deleteUser()}})):r.a.createElement(k.a,{to:"/"})}}),r.a.createElement(k.b,{path:"/product",render:function(a){return t&&"admin"===e.state.user.type&&""!==e.state.product?r.a.createElement(N,Object.assign({},a,{product:e.state.product,snackbarMessage:function(t){return e.snackbarMessage(t)}})):(e.snackbarMessage("You don't have permissions to access that page or a product to manage wasn't selected."),r.a.createElement(k.a,{to:"/"}))}}))),r.a.createElement(R,{message:this.state.snackbarMessage}))}},{key:"loginUser",value:function(e){this.setState({user:e,isLoggedIn:!0}),this.snackbarMessage("Login successful!")}},{key:"logoutUser",value:function(){this.setState({user:{},isLoggedIn:!1}),this.snackbarMessage("Logout successful!")}},{key:"updateUser",value:function(e){var t={status:"OK",user:e};this.setState({user:t.user}),this.snackbarMessage("The user ".concat(this.state.user.first," ").concat(this.state.user.last," was updated!"))}},{key:"deleteUser",value:function(){var e=this.state.user.first,t=this.state.user.last;this.snackbarMessage("The user ".concat(e," ").concat(t," was deleted!"))}},{key:"setProduct",value:function(e){this.setState({product:e})}},{key:"snackbarMessage",value:function(e){var t=this;this.setState({snackbarMessage:e}),clearTimeout(this.state.time),this.setState({time:setTimeout(function(){t.setState({snackbarMessage:""})},4e3)})}}]),t}(r.a.Component);c.a.render(r.a.createElement(P,null),document.getElementById("app"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4ed7b689.chunk.js.map